{"id":"ab01d71c-8eca-4f75-bd1d-145ac70141b5","name":"agent","scenario_trigger":"agent","description":"Extend the built in triage and handoff to live nurse","active":true,"updated":"2019-02-06T12:28:05.9180000Z","userDisplayName":"Bhanu Kandregula","code":"{\"version\":3,\"steps\":[{\"id\":\"2a413cb11c04-cd61e640859bd235-39f7\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":160,\"yLocation\":27,\"next\":\"b17e50cd8a17-d73ef431605e1d41-dcba\"},\"text\":\"What brings you here today? \\r\\nPlease describe the problem so the nurse is ready to help.\",\"variable\":\"complaint\",\"label\":\"Complaint\",\"stringId\":\"stringId_d77601961c9635db\"},{\"id\":\"9ff8ebbcf94e-bd222e9b1f4c8cad-922d\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":213,\"yLocation\":89,\"next\":\"d61a8da3aefa-debd30fbd22b530b-8385\"},\"scenario\":\"/healthnavigator\",\"args\":\"// Pass the complaint var as input to the built in trigae\\r\\n${complaint}\",\"variable\":\"results\",\"label\":\"Start triage\"},{\"id\":\"42bcc266ae24-4818a7f1d51a46c8-07ce\",\"type\":\"statement\",\"designer\":{\"xLocation\":60,\"yLocation\":400},\"text\":\"Get well soon !\\r\\nIf you have any further questions, please donâ€™t hesitate to contact me.\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\n  \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\n  \\\"type\\\": \\\"AdaptiveCard\\\",\\n  \\\"version\\\": \\\"1.0\\\",\\n  \\\"speak\\\": \\\"Your  meeting about \\\\\\\"Adaptive Card design session\\\\\\\" is starting at 12:30pmDo you want to snooze  or do you want to send a late notification to the attendees?\\\",\\n  \\\"body\\\": [\\n    {\\n      \\\"type\\\": \\\"TextBlock\\\",\\n      \\\"text\\\": \\\"Suggested care: \\\",\\n      \\\"size\\\": \\\"large\\\",\\n      \\\"weight\\\": \\\"bolder\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"TextBlock\\\",\\n      \\\"text\\\": ${results}.triage.recommendation,\\n      \\\"isSubtle\\\": true,\\n      \\\"spacing\\\": 'small',\\n      \\\"size\\\": \\\"medium\\\",\\n    },\\n    {\\n      \\\"type\\\": \\\"TextBlock\\\",\\n      \\\"text\\\": '**Disposition rating:** ' + JSON.stringify(${results}.triage.rating) + ' out of 100',\\n      \\\"isSubtle\\\": true,\\n      \\\"spacing\\\": \\\"large\\\"\\n    },\\n  ],\\n  \\\"actions\\\": [\\n    {\\n      \\\"type\\\": \\\"Action.Submit\\\",\\n      \\\"title\\\": \\\"Schedule with a doctor?\\\",\\n      \\\"data\\\": {\\n        \\\"x\\\": \\\"schedule\\\"\\n      }\\n    }\\n  ]\\n}\"}],\"label\":\"Good bye for now\",\"stringId\":\"stringId_b55858c064d36bb5\"},{\"id\":\"32470dd4536d-b9926104af17df7d-afd7\",\"type\":\"branch\",\"condition\":\"// Low disposition is detected suggestion would be self care at home.\\r\\n// suggest the patient self care before connecting to the nurse line\\r\\n${results}.triage.rating >= 15\",\"designer\":{\"xLocation\":173,\"yLocation\":260,\"next\":\"09337a400b26-73c022425ab03118-bb0d\"},\"targetStepId\":\"3f699551ad21-2ee7a90a33b49ffb-6dbc\",\"label\":\"Disposition filter\"},{\"id\":\"b17e50cd8a17-d73ef431605e1d41-dcba\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":389,\"yLocation\":120},\"scenario\":\"/builtin/handoff\",\"args\":\"// The triage results objects include Summary , Primary complaint, possible causes , triage rating & recommendation.\\r\\n// A summary of the results can be passed to the agent for a perfect route of the chatbot conversation to a human  \\r\\n// 'Symptom summary:' + ${results}.symptomSummary.text,\\r\\n// '\\\\nTriage:' + ${results}.triage.text\",\"variable\":\"\"},{\"id\":\"3f699551ad21-2ee7a90a33b49ffb-6dbc\",\"type\":\"statement\",\"designer\":{\"xLocation\":240,\"yLocation\":360},\"text\":\"\\\"Developer notice :\\\" + ${results}\",\"stringId\":\"stringId_743bb34c8360b206\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n\\t\\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n\\t\\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n\\t\\\"version\\\": \\\"1.0\\\",\\r\\n\\t\\\"body\\\": [\\r\\n\\t\\t{\\r\\n\\t\\t\\t\\\"type\\\": \\\"Container\\\",\\r\\n\\t\\t\\t\\\"items\\\": [\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"type\\\": \\\"TextBlock\\\",\\r\\n\\t\\t\\t\\t\\t\\\"text\\\": \\\"Transition conversations to human\\\",\\r\\n\\t\\t\\t\\t\\t\\\"weight\\\": \\\"bolder\\\",\\r\\n\\t\\t\\t\\t\\t\\\"size\\\": \\\"medium\\\"\\r\\n                }\\r\\n\\t\\t\\t]\\r\\n\\t\\t},\\r\\n\\t\\t{\\r\\n\\t\\t\\t\\\"type\\\": \\\"Container\\\",\\r\\n\\t\\t\\t\\\"items\\\": [\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\t\\\"type\\\": \\\"TextBlock\\\",\\r\\n\\t\\t\\t\\t\\t\\\"text\\\": \\\"With Health bot handoff, you can pass conversations between bots and agents.\\\",\\r\\n\\t\\t\\t\\t\\t\\\"wrap\\\": true\\r\\n\\t\\t\\t\\t},\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"wrap\\\": true,\\r\\n                    \\\"text\\\": \\\"To activate the full flow check out [Handoff to live agent documentation](https://docs.microsoft.com/en-us/healthbot/handoff)\\\"\\r\\n                }\\r\\n\\t\\t\\t]\\r\\n\\t\\t}\\r\\n\\t]\\r\\n}\"}],\"label\":\"Developer notice\"},{\"id\":\"09337a400b26-73c022425ab03118-bb0d\",\"type\":\"yesnoprompt\",\"dataType\":\"boolean\",\"designer\":{\"xLocation\":120,\"yLocation\":320,\"next\":\"42bcc266ae24-4818a7f1d51a46c8-07ce\"},\"text\":\"The suggestion for your case was self care at home, \\r\\nWould you still want to connect to a nurse ?\",\"variable\":\"connectToNurse\",\"stringId\":\"stringId_9ab789177e280520\",\"targetStepId\":\"3f699551ad21-2ee7a90a33b49ffb-6dbc\"},{\"id\":\"d61a8da3aefa-debd30fbd22b530b-8385\",\"type\":\"branch\",\"condition\":\"// Conversation global variables denoted by @{myVar}, they persist throughout the lifespan of the conversation.\\r\\n// In case the triage was not successfull, ask the user to try again\\r\\n@{healthnavigator}!= null && @{healthnavigator}.primaryComplaint == null\",\"designer\":{\"xLocation\":140,\"yLocation\":172,\"next\":\"32470dd4536d-b9926104af17df7d-afd7\",\"reverse\":true}},{\"id\":\"1ef75c58792c-860d908f549bee45-6981\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":47,\"yLocation\":90},\"text\":\"Before I can help, I need to take some details from you.\\r\\nPlease describe your symptoms.\",\"variable\":\"complaint\",\"stringId\":\"stringId_3b2156fc1eabc74a\"}],\"returningMessage\":\"\",\"interrupting\":false,\"breaking\":false}"}